# Run the cleanup script in AWS account
name: AwsMatrix

# Controls when the workflow will run
on:
  # schedule:
  #   # Run weekly on Friday at ~8am MT - infrequent runs to allow merging PRs
  #   - cron: '0 14 * * FRI'

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  
  # Allows this workflow to be called
  workflow_call:
        
concurrency: FisWorkshopBuildDestroyMatrix

run-name: AwsMatrix

# A workflow run is made up of one or more jobs that can run sequentially or in parallel

jobs:
  matrix-deploy:
    strategy:
      matrix:
        region: [ us-east-1, us-east-2 ]
    uses: ./.github/workflows/aws_region_test.yml
    with:
      region: ${{ matrix.region }}
